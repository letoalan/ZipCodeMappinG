body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:0;display:flex;flex-direction:column;height:100vh}
header{padding:12px;background:#0f172a;color:#fff;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
header h1{font-size:16px;margin:0}
#controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
input[type="text"]{padding:8px;border-radius:6px;border:1px solid #ccc}
button{padding:8px 10px;border-radius:6px;border:0;background:#2563eb;color:#fff;cursor:pointer}
button:hover{background:#1d4ed8}
button:disabled{background:#94a3b8;cursor:not-allowed}
main{display:flex;flex:1;gap:12px;overflow:hidden}
#map{flex:1;min-width:320px}
#side{width:400px;max-width:45%;background:#fff;padding:12px;box-shadow:0 0 10px rgba(0,0,0,0.08);overflow:auto;display:flex;flex-direction:column}
#results{margin-top:8px;flex:1;overflow:auto}
.commune{padding:10px;border-bottom:1px solid #eee;border-radius:4px;margin-bottom:2px;position:relative}
.commune:hover{background:#f3f4f6}
.commune.selected{background:#dbeafe;border-left:4px solid #3b82f6}
.commune-name{font-weight:600;color:#1f2937}
.commune-details{font-size:12px;color:#6b7280;margin-top:4px}
.commune-checkbox{position:absolute;right:10px;top:50%;transform:translateY(-50%)}
.commune-content{margin-right:30px;cursor:pointer}
.prop-sample{font-size:12px;color:#555;margin-top:4px}
footer{padding:8px;font-size:13px;color:#555;text-align:center}
label{font-size:13px;font-weight:500}
select{padding:6px;border-radius:6px;border:1px solid #ccc}
#groupControls{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
textarea{width:100%;height:120px;margin-top:8px;font-size:12px;border:1px solid #ccc;border-radius:6px;padding:8px}
.status{padding:8px;margin:8px 0;border-radius:6px;font-size:13px}
.status.loading{background:#dbeafe;color:#1e40af}
.status.error{background:#fee2e2;color:#dc2626}
.status.success{background:#d1fae5;color:#065f46}
.search-mode{display:flex;gap:8px;align-items:center;margin:8px 0}
.search-mode label{cursor:pointer}
#stats{font-size:12px;color:#6b7280;margin-top:8px}